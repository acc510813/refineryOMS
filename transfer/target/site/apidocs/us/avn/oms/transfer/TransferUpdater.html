<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (1.8.0_161) on Wed Jul 01 15:24:30 CDT 2020 -->
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>TransferUpdater (transfer 0.0.1-SNAPSHOT API)</title>
<meta name="date" content="2020-07-01">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
<script type="text/javascript" src="../../../../script.js"></script>
</head>
<body>
<script type="text/javascript"><!--
    try {
        if (location.href.indexOf('is-external=true') == -1) {
            parent.document.title="TransferUpdater (transfer 0.0.1-SNAPSHOT API)";
        }
    }
    catch(err) {
    }
//-->
var methods = {"i0":10,"i1":10,"i2":10,"i3":10,"i4":10,"i5":10,"i6":10,"i7":10,"i8":10,"i9":10,"i10":10,"i11":10,"i12":10,"i13":10,"i14":10,"i15":10,"i16":10,"i17":10,"i18":10,"i19":10,"i20":10};
var tabs = {65535:["t0","All Methods"],2:["t2","Instance Methods"],8:["t4","Concrete Methods"]};
var altColor = "altColor";
var rowColor = "rowColor";
var tableTab = "tableTab";
var activeTableTab = "activeTableTab";
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar.top">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.top" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.top.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../us/avn/oms/transfer/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TransferUpdater.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../us/avn/oms/transfer/TransferMgr.html" title="class in us.avn.oms.transfer"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?us/avn/oms/transfer/TransferUpdater.html" target="_top">Frames</a></li>
<li><a href="TransferUpdater.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">us.avn.oms.transfer</div>
<h2 title="Class TransferUpdater" class="title">Class TransferUpdater</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="https://docs.oracle.com/javase/7/docs/api/java/util/TimerTask.html?is-external=true" title="class or interface in java.util">java.util.TimerTask</a></li>
<li>
<ul class="inheritance">
<li>us.avn.oms.transfer.TransferUpdater</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</a></dd>
</dl>
<hr>
<br>
<pre>public class <span class="typeNameLabel">TransferUpdater</span>
extends <a href="https://docs.oracle.com/javase/7/docs/api/java/util/TimerTask.html?is-external=true" title="class or interface in java.util">TimerTask</a></pre>
<div class="block">TransferUpdater provides the methods for updating transfers, i.e., starting,
 stopping (completing), creating from schedules, creating from orders
 <br>
 Should probably be either an abstract class or a bunch of 
 Transfer methods</div>
<dl>
<dt><span class="simpleTagLabel">Author:</span></dt>
<dd>AVN</dd>
</dl>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private us.avn.oms.service.AnalogInputService</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#ais">ais</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private us.avn.oms.service.ConfigService</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#cfgs">cfgs</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#configuration">configuration</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private org.springframework.context.ApplicationContext</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#context">context</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private us.avn.oms.service.CrontabService</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#crns">crns</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private us.avn.oms.service.DigitalInputService</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#dis">dis</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.time.LocalDateTime</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#ldt">ldt</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private org.apache.logging.log4j.Logger</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#log">log</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#newTransferHour">newTransferHour</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#newTransferInterval">newTransferInterval</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#newTransferMinute">newTransferMinute</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private java.time.Instant</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#now">now</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private us.avn.oms.service.OrderService</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#ords">ords</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private us.avn.oms.service.ReferenceCodeService</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#rcs">rcs</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private us.avn.oms.service.RawDataService</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#rds">rds</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>,<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#ruIds">ruIds</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/util/Vector.html?is-external=true" title="class or interface in java.util">Vector</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#stations">stations</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#statuses">statuses</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private us.avn.oms.service.TagService</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#tgs">tgs</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private us.avn.oms.service.TankService</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#tks">tks</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#types">types</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private us.avn.oms.service.VertexService</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#vtxs">vtxs</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private us.avn.oms.service.WatchdogService</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#wds">wds</a></span></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private us.avn.oms.service.TransferService</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#xfrs">xfrs</a></span></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.time.ZonedDateTime</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#zdt">zdt</a></span></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#TransferUpdater--">TransferUpdater</a></span>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#TransferUpdater-java.lang.String:A-">TransferUpdater</a></span>(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;args)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method.summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="memberSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span id="t0" class="activeTableTab"><span>All Methods</span><span class="tabEnd">&nbsp;</span></span><span id="t2" class="tableTab"><span><a href="javascript:show(2);">Instance Methods</a></span><span class="tabEnd">&nbsp;</span></span><span id="t4" class="tableTab"><span><a href="javascript:show(8);">Concrete Methods</a></span><span class="tabEnd">&nbsp;</span></span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr id="i0" class="altColor">
<td class="colFirst"><code>private us.avn.oms.domain.Tag</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#carrierPresent-us.avn.oms.domain.Item-">carrierPresent</a></span>(us.avn.oms.domain.Item&nbsp;i)</code>
<div class="block">Check that the carrier is present at a loading dock, specified 
 by the appropriate indicator in a RelTagTag(code = "DK") record.</div>
</td>
</tr>
<tr id="i1" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#changeTransferState-us.avn.oms.domain.Transfer-java.lang.String-">changeTransferState</a></span>(us.avn.oms.domain.Transfer&nbsp;x,
                   <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;newState)</code>
<div class="block">Turn the child tags to the new state.</div>
</td>
</tr>
<tr id="i2" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#checkEndPointTanks-us.avn.oms.domain.Transfer-">checkEndPointTanks</a></span>(us.avn.oms.domain.Transfer&nbsp;xfr)</code>
<div class="block">check the end point tanks and verify that the level has not exceeded
 the low limit (source) or the high limit (destination).</div>
</td>
</tr>
<tr id="i3" class="rowColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#checkTank-java.lang.String-us.avn.oms.domain.Tag-">checkTank</a></span>(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;option,
         us.avn.oms.domain.Tag&nbsp;endPoint)</code>&nbsp;</td>
</tr>
<tr id="i4" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#completeTransfers--">completeTransfers</a></span>()</code>
<div class="block">Complete transfers that are active whose completion time 
 has elapsed or volume has been transferred</div>
</td>
</tr>
<tr id="i5" class="rowColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Double.html?is-external=true" title="class or interface in java.lang">Double</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#computeDestinationChange-java.lang.Long-">computeDestinationChange</a></span>(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;destId)</code>
<div class="block">Correct the level for the tank based on the
 change in volume; If it's not a tank, no change
 is necessary
 <br>Notes: This doesn't currently correct for temperature differences</div>
</td>
</tr>
<tr id="i6" class="altColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Double.html?is-external=true" title="class or interface in java.lang">Double</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#computeSourceChange-java.lang.Long-">computeSourceChange</a></span>(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;srcId)</code>
<div class="block">compute the change in volume for the source tank.</div>
</td>
</tr>
<tr id="i7" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#createScheduledTransfers-java.time.LocalDateTime-">createScheduledTransfers</a></span>(java.time.LocalDateTime&nbsp;ldt)</code>
<div class="block">Create a executable transfer for a scheduled transfer.</div>
</td>
</tr>
<tr id="i8" class="altColor">
<td class="colFirst"><code>private us.avn.oms.domain.Transfer</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#createTransferFromOrder-us.avn.oms.domain.Order-us.avn.oms.domain.Item-us.avn.oms.domain.Tag-us.avn.oms.domain.Tag-">createTransferFromOrder</a></span>(us.avn.oms.domain.Order&nbsp;order,
                       us.avn.oms.domain.Item&nbsp;i,
                       us.avn.oms.domain.Tag&nbsp;carrier,
                       us.avn.oms.domain.Tag&nbsp;dock)</code>
<div class="block">Create a new transfer object based on the order item and the carrier
 and the dock at which the carrier is parked.</div>
</td>
</tr>
<tr id="i9" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#createTransfersFromOrders--">createTransfersFromOrders</a></span>()</code>
<div class="block">Create transfers from orders IFF the specific carriers are present
 <br>
 Notes:Only pending orders (status is changed to Active when transfer created)
        Carrier must be present (see CONFIG.SHIP-PRESENT-NAME, TANKCAR-PRESENT-NAME
            TANKTRUCK-PRESENT-NAME)
        Carrier can only apply to one order item/transfer at a time
        </div>
</td>
</tr>
<tr id="i10" class="altColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;us.avn.oms.domain.ChildValue&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#getChildTags-java.lang.Long-java.lang.String-">getChildTags</a></span>(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;id,
            <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;code)</code>
<div class="block">Get the child tags associated w/the end point transfer</div>
</td>
</tr>
<tr id="i11" class="rowColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>,<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#getRefineryUnitIds--">getRefineryUnitIds</a></span>()</code>
<div class="block">Get a hash map for the refinery unit IDs.</div>
</td>
</tr>
<tr id="i12" class="altColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#getRefineryUnitNumber-us.avn.oms.domain.Transfer-">getRefineryUnitNumber</a></span>(us.avn.oms.domain.Transfer&nbsp;x)</code>
<div class="block">Determine which refinery unit involved in this transfer</div>
</td>
</tr>
<tr id="i13" class="rowColor">
<td class="colFirst"><code>private <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Double.html?is-external=true" title="class or interface in java.lang">Double</a></code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#getValue-java.lang.Long-java.lang.String-">getValue</a></span>(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;id,
        <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;state)</code>
<div class="block">For digitals, translate a string value to a numerical (double) value</div>
</td>
</tr>
<tr id="i14" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#incrementOrderItem-java.lang.Long-java.lang.Double-">incrementOrderItem</a></span>(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;id,
                  <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Double.html?is-external=true" title="class or interface in java.lang">Double</a>&nbsp;delta)</code>
<div class="block">Increment the actual volume for an order Item.</div>
</td>
</tr>
<tr id="i15" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#insertNewTransfer-java.time.LocalDateTime-us.avn.oms.domain.Transfer-us.avn.oms.domain.Transfer-">insertNewTransfer</a></span>(java.time.LocalDateTime&nbsp;ldt,
                 us.avn.oms.domain.Transfer&nbsp;xfr,
                 us.avn.oms.domain.Transfer&nbsp;newXfr)</code>
<div class="block">Insert a new transfer based on the given template into the transfer table</div>
</td>
</tr>
<tr id="i16" class="altColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#itemHasBusyCarrier-us.avn.oms.domain.Item-">itemHasBusyCarrier</a></span>(us.avn.oms.domain.Item&nbsp;i)</code>
<div class="block">Find out if there's an active order already using this carrier</div>
</td>
</tr>
<tr id="i17" class="rowColor">
<td class="colFirst"><code>private boolean</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#outputAllowed-us.avn.oms.domain.ChildValue-">outputAllowed</a></span>(us.avn.oms.domain.ChildValue&nbsp;cv)</code>
<div class="block">Check the child value to determine if it is a digital output</div>
</td>
</tr>
<tr id="i18" class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#run--">run</a></span>()</code>&nbsp;</td>
</tr>
<tr id="i19" class="rowColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#startTransfers--">startTransfers</a></span>()</code>
<div class="block">Start scheduled transfers whose starting time
 is earlier than the current time</div>
</td>
</tr>
<tr id="i20" class="altColor">
<td class="colFirst"><code>private void</code></td>
<td class="colLast"><code><span class="memberNameLink"><a href="../../../../us/avn/oms/transfer/TransferUpdater.html#updateTransfers--">updateTransfers</a></span>()</code>
<div class="block">Update the transfer and order items amount transferred, based on change
 in level for the tank.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.util.TimerTask">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.util.<a href="https://docs.oracle.com/javase/7/docs/api/java/util/TimerTask.html?is-external=true" title="class or interface in java.util">TimerTask</a></h3>
<code><a href="https://docs.oracle.com/javase/7/docs/api/java/util/TimerTask.html?is-external=true#cancel--" title="class or interface in java.util">cancel</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/util/TimerTask.html?is-external=true#scheduledExecutionTime--" title="class or interface in java.util">scheduledExecutionTime</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods.inherited.from.class.java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone--" title="class or interface in java.lang">clone</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals-java.lang.Object-" title="class or interface in java.lang">equals</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize--" title="class or interface in java.lang">finalize</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass--" title="class or interface in java.lang">getClass</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode--" title="class or interface in java.lang">hashCode</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify--" title="class or interface in java.lang">notify</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll--" title="class or interface in java.lang">notifyAll</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString--" title="class or interface in java.lang">toString</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait--" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-" title="class or interface in java.lang">wait</a>, <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait-long-int-" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field.detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="log">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>log</h4>
<pre>private&nbsp;org.apache.logging.log4j.Logger log</pre>
</li>
</ul>
<a name="context">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>context</h4>
<pre>private&nbsp;org.springframework.context.ApplicationContext context</pre>
</li>
</ul>
<a name="ais">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ais</h4>
<pre>private&nbsp;us.avn.oms.service.AnalogInputService ais</pre>
</li>
</ul>
<a name="cfgs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>cfgs</h4>
<pre>private&nbsp;us.avn.oms.service.ConfigService cfgs</pre>
</li>
</ul>
<a name="crns">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>crns</h4>
<pre>private&nbsp;us.avn.oms.service.CrontabService crns</pre>
</li>
</ul>
<a name="dis">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>dis</h4>
<pre>private&nbsp;us.avn.oms.service.DigitalInputService dis</pre>
</li>
</ul>
<a name="ords">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ords</h4>
<pre>private&nbsp;us.avn.oms.service.OrderService ords</pre>
</li>
</ul>
<a name="rcs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rcs</h4>
<pre>private&nbsp;us.avn.oms.service.ReferenceCodeService rcs</pre>
</li>
</ul>
<a name="rds">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rds</h4>
<pre>private&nbsp;us.avn.oms.service.RawDataService rds</pre>
</li>
</ul>
<a name="tgs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tgs</h4>
<pre>private&nbsp;us.avn.oms.service.TagService tgs</pre>
</li>
</ul>
<a name="tks">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tks</h4>
<pre>private&nbsp;us.avn.oms.service.TankService tks</pre>
</li>
</ul>
<a name="wds">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>wds</h4>
<pre>private&nbsp;us.avn.oms.service.WatchdogService wds</pre>
</li>
</ul>
<a name="xfrs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>xfrs</h4>
<pre>private&nbsp;us.avn.oms.service.TransferService xfrs</pre>
</li>
</ul>
<a name="vtxs">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>vtxs</h4>
<pre>private&nbsp;us.avn.oms.service.VertexService vtxs</pre>
</li>
</ul>
<a name="configuration">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>configuration</h4>
<pre>private&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt; configuration</pre>
</li>
</ul>
<a name="ldt">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ldt</h4>
<pre>private&nbsp;java.time.LocalDateTime ldt</pre>
</li>
</ul>
<a name="newTransferHour">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newTransferHour</h4>
<pre>private&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a> newTransferHour</pre>
</li>
</ul>
<a name="newTransferMinute">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newTransferMinute</h4>
<pre>private&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a> newTransferMinute</pre>
</li>
</ul>
<a name="newTransferInterval">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>newTransferInterval</h4>
<pre>private&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Integer.html?is-external=true" title="class or interface in java.lang">Integer</a> newTransferInterval</pre>
</li>
</ul>
<a name="now">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>now</h4>
<pre>private&nbsp;java.time.Instant now</pre>
</li>
</ul>
<a name="ruIds">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ruIds</h4>
<pre>private&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>,<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt; ruIds</pre>
</li>
</ul>
<a name="statuses">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>statuses</h4>
<pre>private&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt; statuses</pre>
</li>
</ul>
<a name="stations">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>stations</h4>
<pre>private&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/util/Vector.html?is-external=true" title="class or interface in java.util">Vector</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt; stations</pre>
</li>
</ul>
<a name="types">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>types</h4>
<pre>private&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt; types</pre>
</li>
</ul>
<a name="zdt">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>zdt</h4>
<pre>private&nbsp;java.time.ZonedDateTime zdt</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor.detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="TransferUpdater--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>TransferUpdater</h4>
<pre>public&nbsp;TransferUpdater()</pre>
</li>
</ul>
<a name="TransferUpdater-java.lang.String:A-">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>TransferUpdater</h4>
<pre>public&nbsp;TransferUpdater(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>[]&nbsp;args)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method.detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="run--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<dl>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html?is-external=true#run--" title="class or interface in java.lang">run</a></code>&nbsp;in interface&nbsp;<code><a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Runnable.html?is-external=true" title="class or interface in java.lang">Runnable</a></code></dd>
<dt><span class="overrideSpecifyLabel">Specified by:</span></dt>
<dd><code><a href="https://docs.oracle.com/javase/7/docs/api/java/util/TimerTask.html?is-external=true#run--" title="class or interface in java.util">run</a></code>&nbsp;in class&nbsp;<code><a href="https://docs.oracle.com/javase/7/docs/api/java/util/TimerTask.html?is-external=true" title="class or interface in java.util">TimerTask</a></code></dd>
</dl>
</li>
</ul>
<a name="updateTransfers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateTransfers</h4>
<pre>private&nbsp;void&nbsp;updateTransfers()</pre>
<div class="block">Update the transfer and order items amount transferred, based on change
 in level for the tank.  Each end point (source and destination) if it's
 a tank is checked for a limit violation (source: LO, destination: HI) and
 the end point is changed if the tank is too low (source) or too high (destination)</div>
</li>
</ul>
<a name="completeTransfers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>completeTransfers</h4>
<pre>private&nbsp;void&nbsp;completeTransfers()</pre>
<div class="block">Complete transfers that are active whose completion time 
 has elapsed or volume has been transferred</div>
</li>
</ul>
<a name="startTransfers--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>startTransfers</h4>
<pre>private&nbsp;void&nbsp;startTransfers()</pre>
<div class="block">Start scheduled transfers whose starting time
 is earlier than the current time</div>
</li>
</ul>
<a name="createScheduledTransfers-java.time.LocalDateTime-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createScheduledTransfers</h4>
<pre>private&nbsp;void&nbsp;createScheduledTransfers(java.time.LocalDateTime&nbsp;ldt)</pre>
<div class="block">Create a executable transfer for a scheduled transfer.  Scheduled transfers
 are those with a non-null crontabId            
 <br>
 Only check pending transfers from or to refinery units at 23:30
 Check all the others every 5 minutes</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ldt</code> - local time, used to check for time to create the scheduled transfers</dd>
</dl>
</li>
</ul>
<a name="createTransfersFromOrders--">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createTransfersFromOrders</h4>
<pre>private&nbsp;void&nbsp;createTransfersFromOrders()</pre>
<div class="block">Create transfers from orders IFF the specific carriers are present
 <br>
 Notes:<ol><li>Only pending orders (status is changed to Active when transfer created)</li>
        <li>Carrier must be present (see CONFIG.SHIP-PRESENT-NAME, TANKCAR-PRESENT-NAME
            TANKTRUCK-PRESENT-NAME)</li>
        <li>Carrier can only apply to one order item/transfer at a time</li>
        </ol></div>
</li>
</ul>
<a name="itemHasBusyCarrier-us.avn.oms.domain.Item-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>itemHasBusyCarrier</h4>
<pre>private&nbsp;boolean&nbsp;itemHasBusyCarrier(us.avn.oms.domain.Item&nbsp;i)</pre>
<div class="block">Find out if there's an active order already using this carrier</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>i</code> - OrderItem to validate</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>True if this carrier already used in another order item</dd>
</dl>
</li>
</ul>
<a name="insertNewTransfer-java.time.LocalDateTime-us.avn.oms.domain.Transfer-us.avn.oms.domain.Transfer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>insertNewTransfer</h4>
<pre>private&nbsp;void&nbsp;insertNewTransfer(java.time.LocalDateTime&nbsp;ldt,
                               us.avn.oms.domain.Transfer&nbsp;xfr,
                               us.avn.oms.domain.Transfer&nbsp;newXfr)</pre>
<div class="block">Insert a new transfer based on the given template into the transfer table</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>ldt</code> - local time, used to check for time to create the transfer</dd>
<dd><code>xfr</code> - transfer template</dd>
<dd><code>newXfr</code> - new transfer to insert</dd>
</dl>
</li>
</ul>
<a name="changeTransferState-us.avn.oms.domain.Transfer-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>changeTransferState</h4>
<pre>private&nbsp;void&nbsp;changeTransferState(us.avn.oms.domain.Transfer&nbsp;x,
                                 <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;newState)</pre>
<div class="block">Turn the child tags to the new state.  This turns valves and pumps to their
 correct position to allow the fluid to flow to the destination.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x</code> - Transfer to modify the state of</dd>
<dd><code>newState</code> - New state for transfer</dd>
</dl>
</li>
</ul>
<a name="outputAllowed-us.avn.oms.domain.ChildValue-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>outputAllowed</h4>
<pre>private&nbsp;boolean&nbsp;outputAllowed(us.avn.oms.domain.ChildValue&nbsp;cv)</pre>
<div class="block">Check the child value to determine if it is a digital output</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>cv</code> - ChildValue to validate for DO</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>boolean T if digital output</dd>
</dl>
</li>
</ul>
<a name="getChildTags-java.lang.Long-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getChildTags</h4>
<pre>private&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/util/Collection.html?is-external=true" title="class or interface in java.util">Collection</a>&lt;us.avn.oms.domain.ChildValue&gt;&nbsp;getChildTags(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;id,
                                                              <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;code)</pre>
<div class="block">Get the child tags associated w/the end point transfer</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - (Long) tag ID of transfer end point</dd>
<dd><code>code</code> - (String) code associated correct w/RelTagTag records</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>collection of ChildValues</dd>
</dl>
</li>
</ul>
<a name="getRefineryUnitNumber-us.avn.oms.domain.Transfer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRefineryUnitNumber</h4>
<pre>private&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;getRefineryUnitNumber(us.avn.oms.domain.Transfer&nbsp;x)</pre>
<div class="block">Determine which refinery unit involved in this transfer</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>x</code> - Transfer to check</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Number of refinery unit [null (no RU involved), 1, 2, ...]</dd>
</dl>
</li>
</ul>
<a name="getValue-java.lang.Long-java.lang.String-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getValue</h4>
<pre>private&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Double.html?is-external=true" title="class or interface in java.lang">Double</a>&nbsp;getValue(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;id,
                        <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;state)</pre>
<div class="block">For digitals, translate a string value to a numerical (double) value</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - ID of tag to translate</dd>
<dd><code>state</code> - new value to set</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>numerical value to set</dd>
</dl>
</li>
</ul>
<a name="carrierPresent-us.avn.oms.domain.Item-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>carrierPresent</h4>
<pre>private&nbsp;us.avn.oms.domain.Tag&nbsp;carrierPresent(us.avn.oms.domain.Item&nbsp;i)</pre>
<div class="block">Check that the carrier is present at a loading dock, specified 
 by the appropriate indicator in a RelTagTag(code = "DK") record.  There
 should only be one</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>i</code> - Item containing specified carrier</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>Tag of loading dock</dd>
</dl>
</li>
</ul>
<a name="createTransferFromOrder-us.avn.oms.domain.Order-us.avn.oms.domain.Item-us.avn.oms.domain.Tag-us.avn.oms.domain.Tag-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>createTransferFromOrder</h4>
<pre>private&nbsp;us.avn.oms.domain.Transfer&nbsp;createTransferFromOrder(us.avn.oms.domain.Order&nbsp;order,
                                                           us.avn.oms.domain.Item&nbsp;i,
                                                           us.avn.oms.domain.Tag&nbsp;carrier,
                                                           us.avn.oms.domain.Tag&nbsp;dock)</pre>
<div class="block">Create a new transfer object based on the order item and the carrier
 and the dock at which the carrier is parked.  It DOES insert
 the DB record.
 <br>            
 Notes: The order provides the amount to transfer and whether the transfer
        is to or from the tanks.  All purchases are crude purchases so this
        is easy.
 <p>     
 Though these are all "one-off" transfers, the template
 associated with them is based on the dock where the carrier is located
 and the product being transferred, we have 
 to determine the appropriate source and destination.  
 <p>
 It's probably implied somewhere, but an order can cause the creation
 of multiple transfers based on the number of order items.  Not sure why
 since it seems that should be specified based on the number of holds in
 a ship/truck or the number of tank cars in a train.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>order</code> - - order for transfer</dd>
<dd><code>i</code> - - order item for transfer</dd>
<dd><code>carrier</code> - - carrier for products</dd>
<dd><code>dock</code> - - dock (note: this is not <b>just</b> a ship dock).</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>- Transfer object (ready to insert)</dd>
</dl>
</li>
</ul>
<a name="computeSourceChange-java.lang.Long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeSourceChange</h4>
<pre>private&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Double.html?is-external=true" title="class or interface in java.lang">Double</a>&nbsp;computeSourceChange(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;srcId)</pre>
<div class="block">compute the change in volume for the source tank.  If it's not a tank, 
 no change is necessary
 <br> Notes: This doesn't currently correct for temperature differences
 <p>
 <br>            IF the source is a tank
 <br>           .. get the current level
 <br>           .. compute the current volume <code>Tank.computeVolume(java.lang.Double)</code>
 <br>           .. compute the previous volume
 <br>           .. volume transferred = previous volume - current volume
 <br>           END IF</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>srcId</code> - tag ID for transfer source</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>amount source tank changed</dd>
</dl>
</li>
</ul>
<a name="computeDestinationChange-java.lang.Long-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>computeDestinationChange</h4>
<pre>private&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Double.html?is-external=true" title="class or interface in java.lang">Double</a>&nbsp;computeDestinationChange(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;destId)</pre>
<div class="block">Correct the level for the tank based on the
 change in volume; If it's not a tank, no change
 is necessary
 <br>Notes: This doesn't currently correct for temperature differences
 <p>
 <br>           IF the source is a tank
 <br>           .. get the current level
 <br>           .. compute the current volume
 <br>           .. add in the change 
 <br>           .. compute the new level (don't let it go above the max level)
 <br>           .. update the level tag
 <br>           END IF</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>destId</code> - tag ID for transfer destination</dd>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>change in volume</dd>
</dl>
</li>
</ul>
<a name="incrementOrderItem-java.lang.Long-java.lang.Double-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>incrementOrderItem</h4>
<pre>private&nbsp;void&nbsp;incrementOrderItem(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;id,
                                <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Double.html?is-external=true" title="class or interface in java.lang">Double</a>&nbsp;delta)</pre>
<div class="block">Increment the actual volume for an order Item.
 <br>
 Look up the order item associated with this transfer.  Then, if found,
 increment the actual volume and update the item.</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>id</code> - transfer ID</dd>
<dd><code>delta</code> - Amount of transfer to increase</dd>
</dl>
</li>
</ul>
<a name="checkEndPointTanks-us.avn.oms.domain.Transfer-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkEndPointTanks</h4>
<pre>private&nbsp;void&nbsp;checkEndPointTanks(us.avn.oms.domain.Transfer&nbsp;xfr)</pre>
<div class="block">check the end point tanks and verify that the level has not exceeded
 the low limit (source) or the high limit (destination).</div>
<dl>
<dt><span class="paramLabel">Parameters:</span></dt>
<dd><code>xfr</code> - transfer to check</dd>
</dl>
</li>
</ul>
<a name="checkTank-java.lang.String-us.avn.oms.domain.Tag-">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>checkTank</h4>
<pre>private&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;checkTank(<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;option,
                       us.avn.oms.domain.Tag&nbsp;endPoint)</pre>
</li>
</ul>
<a name="getRefineryUnitIds--">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getRefineryUnitIds</h4>
<pre>private&nbsp;<a href="https://docs.oracle.com/javase/7/docs/api/java/util/HashMap.html?is-external=true" title="class or interface in java.util">HashMap</a>&lt;<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>,<a href="https://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&gt;&nbsp;getRefineryUnitIds()</pre>
<div class="block">Get a hash map for the refinery unit IDs.  The key to the hash map is
 the Unit ID, and the value is the "number" of the refinery unit.</div>
<dl>
<dt><span class="returnLabel">Returns:</span></dt>
<dd>refinery unit IDs</dd>
</dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar.bottom">
<!--   -->
</a>
<div class="skipNav"><a href="#skip.navbar.bottom" title="Skip navigation links">Skip navigation links</a></div>
<a name="navbar.bottom.firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../us/avn/oms/transfer/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/TransferUpdater.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../us/avn/oms/transfer/TransferMgr.html" title="class in us.avn.oms.transfer"><span class="typeNameLink">Prev&nbsp;Class</span></a></li>
<li>Next&nbsp;Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?us/avn/oms/transfer/TransferUpdater.html" target="_top">Frames</a></li>
<li><a href="TransferUpdater.html" target="_top">No&nbsp;Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All&nbsp;Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field.summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field.detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor.detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method.detail">Method</a></li>
</ul>
</div>
<a name="skip.navbar.bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2020. All rights reserved.</small></p>
</body>
</html>
